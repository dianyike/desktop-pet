# 🐾 桌面寵物 Desktop Pet v1.1.0

一個可愛的桌面寵物應用程序，基於 PySide6 開發，具備豐富的互動功能和智能提醒系統。

## 🎯 版本亮點 (v1.1.0)

### ✨ 全新功能
- **完善的設置保存系統** - 所有設置持久化保存，重啟後保持
- **智能消息顯示** - 優化消息位置，確保完全可見
- **流暢的用戶體驗** - 簡化操作流程，減少不必要的確認對話框
- **實時設置預覽** - 即時預覽字體和邊框顏色效果

### 🛠️ 技術改進
- **配置管理重構** - 使用 JSON 格式，支持中文編碼
- **UI 初始化優化** - 設置窗口正確顯示配置文件中的值
- **錯誤處理增強** - 完善的異常處理和日誌記錄
- **內存管理優化** - 正確的窗口生命週期管理

## 📋 功能特性

### 🎮 基本功能
- **可拖拽的桌面寵物** - 自由移動到桌面任意位置
- **豐富的動畫效果** - 閒置、移動、跳舞、進食、睡覺等多種狀態
- **系統托盤集成** - 最小化到系統托盤，方便管理
- **右鍵上下文菜單** - 快速訪問功能選項

### ⏰ 智能提醒系統
- **定時提醒功能** - 可自定義間隔時間（1-120分鐘）
- **健康提醒消息** - 眼部休息、姿勢調整、補水等多種提醒
- **閒置檢測** - 智能檢測用戶活動狀態
- **自定義提醒消息** - 支持添加個人化提醒內容

### 🎨 個性化設置
- **寵物大小調整** - 50-300px 自由縮放
- **消息外觀自定義** - 字體顏色、邊框顏色可調
- **音效控制** - 可開啟/關閉互動音效
- **實時預覽** - 設置更改即時預覽效果

### 🍖 互動功能
- **餵食寵物** - 播放進食動畫，增進互動
- **鼠標互動** - 滑鼠懸停和點擊回應
- **狀態動畫** - 根據不同狀態播放對應動畫

## 🚀 快速開始

### 環境要求
- Python 3.8 或更高版本
- Windows 10/11 (主要測試平台)

### 安裝依賴
```bash
pip install -r requirements.txt
```

### 運行程序
```bash
python main.py
```

## 📦 依賴庫

```txt
PySide6>=6.5.0          # 主要 GUI 框架
pygame>=2.5.0           # 音效播放
loguru>=0.7.0           # 日誌記錄
Pillow>=10.0.0          # 圖像處理
pynput>=1.7.6           # 輸入檢測
```

## 🗂️ 項目結構

```
desktop-pet/
├── main.py                 # 程序入口點
├── requirements.txt        # 依賴庫列表
├── README.md              # 項目說明文檔
├── .gitignore             # Git 忽略文件配置
├── assets/                # 資源文件目錄
│   ├── animations/        # 動畫 GIF 文件
│   └── sounds/           # 音效文件
├── core/                  # 核心邏輯模組
│   ├── __init__.py
│   ├── controller.py      # 主控制器
│   ├── animator.py        # 動畫控制器
│   └── events.py         # 事件處理器
├── ui/                    # 用戶界面模組
│   ├── __init__.py
│   └── main_window.py    # 主窗口和設置窗口
└── utils/                 # 工具模組
    ├── __init__.py
    └── config.py         # 配置管理器
```

## ⚙️ 設置說明

### 配置文件 (config.json)
程序會自動生成配置文件來保存用戶設置：

```json
{
  "pet_size": 150,
  "reminder_interval": 30,
  "reminder_enabled": true,
  "idle_enabled": true,
  "sound_enabled": true,
  "font_color": "#FFFFFF",
  "border_color": "#000000",
  "reminder_messages": [
    "該休息一下眼睛了！",
    "記得保持良好的坐姿哦～",
    "喝點水，保持水分！"
  ]
}
```

### 設置項說明
- **pet_size**: 寵物大小 (50-300)
- **reminder_interval**: 提醒間隔分鐘數 (1-120)
- **reminder_enabled**: 是否啟用定時提醒
- **idle_enabled**: 是否啟用閒置檢測
- **sound_enabled**: 是否啟用音效
- **font_color**: 消息字體顏色 (十六進制)
- **border_color**: 消息邊框顏色 (十六進制)

## 🎮 使用指南

### 基本操作
1. **移動寵物**: 拖拽寵物到想要的位置
2. **訪問設置**: 右鍵點擊寵物選擇"⚙️ 設置"
3. **餵食寵物**: 在設置中點擊"🍖 餵食寵物"按鈕
4. **預覽消息**: 在設置中點擊"預覽消息"查看效果

### 設置提醒
1. 打開設置窗口
2. 設置提醒間隔時間
3. 勾選"開啟定時提醒"
4. 點擊"保存"按鈕

### 自定義外觀
1. 在設置中點擊字體顏色/邊框顏色按鈕
2. 選擇喜歡的顏色
3. 點擊"預覽消息"查看效果
4. 點擊"保存"確認更改

## 🐛 故障排除

### 常見問題
1. **程序無法啟動**: 檢查 Python 版本和依賴庫安裝
2. **動畫不顯示**: 確認 assets/animations/ 目錄下有 GIF 文件
3. **音效無法播放**: 確認 assets/sounds/ 目錄下有音頻文件
4. **設置無法保存**: 檢查程序目錄寫入權限

### 日誌記錄
程序會在 `logs/` 目錄下生成詳細的運行日誌，有助於問題診斷。

## 🔧 開發說明

### 代碼架構
- **main.py**: 程序入口，初始化應用程序
- **core/controller.py**: 核心控制邏輯，協調各模組
- **core/animator.py**: 動畫播放和管理
- **core/events.py**: 用戶輸入和系統事件處理
- **ui/main_window.py**: GUI 界面和用戶交互
- **utils/config.py**: 配置文件讀寫和管理

### 擴展功能
程序設計採用模組化架構，便於添加新功能：
- 新增動畫：將 GIF 文件放入 assets/animations/
- 新增音效：將音頻文件放入 assets/sounds/
- 自定義提醒：在設置中管理提醒消息

## 🙏 參考與致謝

本專案部分靈感與技術參考自以下開源專案/檔案：

- 本專案靈感來自 Bilibili 影片：[【QT/C++】桌面寵物！用 QT 打造自己專屬桌面，讓桌面瞬間重獲新生！](https://www.bilibili.com/video/BV1QnjdzPEL7/?share_source=copy_web&vd_source=afa7fce9b98a6716c878d1cbe7d8e775)
  - 感謝原創作者的教學與啟發

## 📬 聯絡方式

若有問題、回饋、商業合作或開發建議，請透過以下方式聯絡我：

- GitHub Issues: [開啟議題](https://github.com/dianyike/desktop-pet/issues)
- Email: dianyike1013@gmail.com

---

感謝您的使用與支援！ 🐾

📄 本專案 README 內容由 ChatGPT 協助生成，根據實際功能與原始程式碼進行整理與撰寫，並經作者審閱修正。
**享受與你的桌面小夥伴的快樂時光！** 🐱✨